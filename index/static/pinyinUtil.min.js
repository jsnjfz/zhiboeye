(function(){var n={};var e={parseDict:function(){if(window.pinyin_dict_firstletter){n.firstletter=pinyin_dict_firstletter}if(window.pinyin_dict_notone){n.notone={};n.py2hz=pinyin_dict_notone;for(var r in pinyin_dict_notone){var t=pinyin_dict_notone[r];for(var i=0,o=t.length;i<o;i++){n.notone[t[i]]=r}}}if(window.pinyin_dict_withtone){n.withtone={};var t=pinyin_dict_withtone.split(",");for(var r=0,o=t.length;r<o;r++){n.withtone[String.fromCharCode(r+19968)]=t[r]}if(window.pinyin_dict_notone){n.py2hz=pinyin_dict_notone}else{var f=e.removeTone(pinyin_dict_withtone).split(",");var a={},v,l;for(var r=0,o=f.length;r<o;r++){l=String.fromCharCode(r+19968);v=f[r].split(" ");for(var i=0;i<v.length;i++){a[v[i]]=(a[v[i]]||"")+l}}n.py2hz=a}}},getPinyin:function(e,i,o,f){if(!e||/^ +$/g.test(e))return"";i=i==undefined?" ":i;o=o==undefined?true:o;f=f==undefined?false:f;var a=[];if(n.withtone){for(var v=0,l=e.length;v<l;v++){var h=n.withtone[e[v]];if(h){if(!f)h=h.replace(/ .*$/g,"");if(!o)h=this.removeTone(h)}a.push(h||e[v])}}else if(n.notone){for(var v=0,l=e.length;v<l;v++){var p=e.charAt(v);a.push(n.notone[p]||p)}}else{throw"抱歉，未找到合适的拼音字典文件！"}if(!f)return a.join(i);else{if(window.pinyin_dict_polyphone)return t(e,a,i,o);else return r(a," ",i)}},getFirstLetter:function(e,t){t=t==undefined?false:t;if(!e||/^ +$/g.test(e))return"";if(n.firstletter){var o=[];for(var f=0;f<e.length;f++){var a=e.charCodeAt(f);var v=e.charAt(f);if(a>=19968&&a<=40869){v=n.firstletter.all.charAt(a-19968);if(t)v=n.firstletter.polyphone[a]||v}o.push(v)}if(!t)return o.join("");else return r(o,"","")}else{var l=this.getPinyin(e," ",false,t);l=l instanceof Array?l:[l];var o=[];for(var f=0;f<l.length;f++){o.push(l[f].replace(/(^| )(\w)\w*/g,function(n,e,r){return r.toUpperCase()}))}if(!t)return o[0];else return i(o)}},getHanzi:function(e){if(!n.py2hz){throw"抱歉，未找到合适的拼音字典文件！"}return n.py2hz[e]||""},removeTone:function(n){var e={"ā":"a1","á":"a2","ǎ":"a3","à":"a4","ō":"o1","ó":"o2","ǒ":"o3","ò":"o4","ē":"e1","é":"e2","ě":"e3","è":"e4","ī":"i1","í":"i2","ǐ":"i3","ì":"i4","ū":"u1","ú":"u2","ǔ":"u3","ù":"u4","ü":"v0","ǖ":"v1","ǘ":"v2","ǚ":"v3","ǜ":"v4","ń":"n2","ň":"n3","":"m2"};return n.replace(/[āáǎàōóǒòēéěèīíǐìūúǔùüǖǘǚǜńň]/g,function(n){return e[n][0]})}};function r(n,e,r){e=e||"";var t=[""],o=[];for(var f=0;f<n.length;f++){o=[];var a=n[f].split(e);for(var v=0;v<a.length;v++){for(var l=0;l<t.length;l++)o.push(t[l]+(t[l]?r:"")+a[v])}t=o}return i(t)}function t(n,r,t,i){var o=window.pinyin_dict_polyphone;var f=7;var a=o[n];if(a){a=a.split(" ");for(var v=0;v<a.length;v++){r[v]=a[v]||r[v];if(!i)r[v]=e.removeTone(r[v])}return r.join(t)}for(var v=0;v<n.length;v++){a="";for(var l=0;l<f&&v+l<n.length;l++){if(!/^[\u2E80-\u9FFF]+$/.test(n[v+l]))break;a+=n[v+l];var h=o[a];if(h){h=h.split(" ");for(var p=0;p<=l;p++){if(h[p])r[v+p]=i?h[p]:e.removeTone(h[p])}break}}}for(var v=0;v<r.length;v++){r[v]=r[v].replace(/ .*$/g,"")}return r.join(t)}function i(n){var e=[];var r={};for(var t=0;t<n.length;t++){var i=typeof n[t]+n[t];if(!r[i]){e.push(n[t]);r[i]=true}}return e}e.parseDict();e.dict=n;window.pinyinUtil=e})();